(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{404:function(t,s,a){"use strict";a.r(s);var n=a(11),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"èµ·å› "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èµ·å› "}},[t._v("#")]),t._v(" èµ·å› ")]),t._v(" "),a("p",[t._v("æœ€è¿‘æœ‰ä¸€ä¸ªä½¿ç”¨PHPå¼€å‘çš„æ¥å…¥æœºæ„ï¼ŒæŒ‰ç…§åŒäº‹ç»™å‡ºçš„Javaä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" privateKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageDigest")]),t._v(" messageDigest "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageDigest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SHA-256"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    messageDigest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" hashData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" messageDigest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("digest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" keyBytes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Base64Utils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("privateKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PKCS8EncodedKeySpec")]),t._v(" pkcs8KeySpec "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PKCS8EncodedKeySpec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyBytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeyFactory")]),t._v(" keyFactory "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeyFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RSA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PrivateKey")]),t._v(" privateK "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generatePrivate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pkcs8KeySpec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Signature")]),t._v(" signature "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Signature")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NONEWithRSA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    signature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initSign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("privateK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    signature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hashData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" sign "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" signature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Base64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEncoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeToString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sign"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å°†å…¶è½¬æ¢ä¸ºPHPä»£ç ï¼ŒåŠ ç­¾åï¼Œå‘ç°æˆ‘ä»¬çš„ç³»ç»ŸéªŒç­¾å¤±è´¥ã€‚")]),t._v(" "),a("h2",{attrs:{id:"è¯•æ°´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯•æ°´"}},[t._v("#")]),t._v(" è¯•æ°´")]),t._v(" "),a("p",[t._v("æœºæ„å‘é—®ï¼Œå½“æ—¶æ­£å€¼åä¸€ï¼Œåœ¨å®¶é™ªå¥³ç¥¨ï¼Œä¹Ÿæ²¡å’‹ç†ä»–ä»¬ï¼Œåæ¥å‘ç°ä»–ä»¬æ€¥å¾—ç«Ÿç„¶åœ¨stackoverflowä¸Šå‘é—®äº†..."),a("a",{attrs:{href:"https://stackoverflow.com/questions/64245668/private-key-sign-data-in-java-to-php",target:"_blank",rel:"noopener noreferrer"}},[t._v("é—®é¢˜é“¾æ¥"),a("OutboundLink")],1),t._v("ï¼Œåä¸€å›æ¥æ²¡æƒ³åˆ°ä»–ä»¬è¿˜æ²¡æœ‰è§£å†³ï¼Œä¸€ç›´è¦æ±‚æˆ‘ä»¬æ”¹JavaéªŒç­¾ç®—æ³•ï¼Œè¯´PHPæ²¡æœ‰Javaå¯¹åº”çš„ç®—æ³•ã€‚æˆ‘ä¿¡ä½ ä¸ªé¬¼ï¼ŒPHPè¿™ä¹ˆå¼ºå¤§çš„è¯­è¨€æ€ä¹ˆå¯èƒ½è¿è¿™ç§åŸºæœ¬çš„ç®—æ³•éƒ½æ²¡æœ‰ã€‚")]),t._v(" "),a("p",[t._v("é‚ç°å­¦äº†åŠå¤©PHPï¼Œå‘ç°PHPçš„openssl_sign()æ–¹æ³•")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("openssl_sign ( string $data , string &$signature , mixed $priv_key_id [, mixed $signature_alg = OPENSSL_ALGO_SHA1 ] ) : bool\n")])])]),a("p",[t._v('ç¡®å®æ²¡æœ‰Javaçš„"NONEWithRSA"ï¼Œåªæœ‰ä¸€ä¸ªOPENSSL_ALGO_SHA256è·Ÿä¸Šé¢çš„Javaç®—æ³•æœ‰äº›ç±»ä¼¼ï¼Œå¸¦å…¥åˆ°PHPæ–¹æ³•ä¸­:')]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$privateKey")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAOyNIj7CYyrAzDELcBm/dSQD7rKSEY9k9btUcji/OxfJH+Je1C2Op51ORxrRUR09O2Oj/YKzkU+9ZG+1NqjdahBMHqJ/YCLJJ7noBtNBBgcyTmy13vDbL94mVw/lWC4jY7yQkeX5IcUKh62k2hVYPX+4VbdPYS9TTT+gceB3gLypAgMBAAECgYEAsbmL7CkyRpHaGFMmo0G0qh2GPoX+SYUqFtfohXgv1rwWh4aF1cCjcE26oIx5bAVwVHmGY6e0WnvKNR+qdI7+OtSRCz0Abr+3t1AO/RAmYHS6F6ZXBGlFMr2hNrl0YX0BsTTSAldyofCs6DaBa9XSThWDgAHh6C4qu3FegCp0KA0CQQD6StIrHYe+F1KjfjKQnQv19EAb3s7c9iBFa0hwMh40xdNaKLZtDEbY8jGpHkygIQ6cJFGl+xJr2Nx7B/oOTeCPAkEA8fIYM6HUOkkNjtE7oK+FIbrW9uUmjRwvQcaefXzPXgXbKW1yu7KeeotLaoYR7/GfTitOZMP+R+YiynCIBrG7RwJAD+z21nt4iaXeQjzjZsQ3YJz7/0n8C581inU7FLh7p4v22MPCZ8niMCeo9UPSSFYSIelFsLP7BhW0YbeuN37JDQJABr6sBAx34SQWN6wHkIQ0HuuZgIqE15w4iQnjczYehc19/ZqqfycMmff2I0MXjuvaeBBnABIirZhx0djvQdiEkwJBAJHxjIAys1pyQwKqCkizBlhZWl0G5+fdmEt0guspdJQ7V7JTdCf1SvbAiqIa/alwGs84PloYgOUeGEJb3HBNIfc="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chunk_split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$privateKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"-----BEGIN PRIVATE KEY-----\\n"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"-----END PRIVATE KEY-----\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var_dump")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dataWithMD5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("md")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"sha256"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openssl_get_privatekey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openssl_sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"sha256"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openssl_free_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//base64ç¼–ç ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("base64_encode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var_dump")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),a("p",[t._v("å®ç°ä¹‹åå‘ç°å¾—åˆ°çš„ç­¾åç¡®å®æœ‰é—®é¢˜ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ·±å…¥æ€è€ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·±å…¥æ€è€ƒ"}},[t._v("#")]),t._v(" æ·±å…¥æ€è€ƒ")]),t._v(" "),a("p",[t._v("éš¾é“æ˜¯æˆ‘é”™æ€ªæœºæ„äº†ï¼Ÿæˆ‘ä¸ä¿¡ğŸ˜’ï¼Œä»”ç»†çœ‹äº†ä¸€ä¸‹Javaçš„æ–¹æ³•ï¼Œå‘ç°Javaæ–¹æ³•æ˜¯å…ˆå°†å¾…åŠ ç­¾å­—ç¬¦ä¸²åšsha256æ‘˜è¦å¾—åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œç„¶åå°†å…¶ä¼ å…¥åŠ ç­¾æ–¹æ³•ä¸­ï¼Œç›´æ¥ç§é’¥åŠ ç­¾ã€‚")]),t._v(" "),a("p",[t._v("è€Œå¯¹æ¯”PHPæ–¹æ³•æ˜¯å°†å¾…ç­¾åå­—ç¬¦ä¸²ç›´æ¥åšäº†æ‘˜è¦ï¼Œç„¶åå°†æ‘˜è¦å­—ç¬¦ä¸²ä¼ å…¥åˆ°åŠ ç­¾æ–¹æ³•ä¸­åšsha256WithRsaï¼Œä¸Javaçš„ç­¾åå¤„ç†è¿‡ç¨‹æœ‰æ˜æ˜¾åŒºåˆ«ã€‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼ŒPHPæ²¡æœ‰åŸç”Ÿçš„å­—èŠ‚æ•°ç»„è¿™ä¸ªæ¦‚å¿µï¼Œä½¿ç”¨hash()æ–¹æ³•åšæ‘˜è¦åå¾—åˆ°çš„ä¸ºè½¬æ¢ä¸ºASCIIç çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚")]),t._v(" "),a("p",[t._v('å…¶æ¬¡ï¼Œopenssl_sign($data, $sign, $res, "sha256")æ–¹æ³•æ˜¯å°†å­—ç¬¦ä¸²åœ¨åŠ ç­¾å‰åˆåšäº†ä¸€æ¬¡sha256.')]),t._v(" "),a("p",[t._v("æ‰€ä»¥å¦‚æœæƒ³é€šè¿‡PHPå®ç°ä¸Šé¢Javaçš„åŠ ç­¾é€»è¾‘ï¼Œåˆ™å¤„ç†æµç¨‹åº”è¯¥ä¸ºï¼š")]),t._v(" "),a("p",[t._v("ä»£ç­¾åå­—ç¬¦ä¸² --\x3e sha256æ‘˜è¦ --\x3e  é€šè¿‡ASCIIç å°†æ‘˜è¦å¾—åˆ°çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ­£å¸¸çš„ä½†ä¸å¯è¯»å­—ç¬¦ä¸²ï¼ˆç›¸å½“äºJavaçš„å­—èŠ‚æ•°ç»„ï¼‰ --\x3e ä½¿ç”¨ç§é’¥åŠ ç­¾ï¼Œåœ¨åŠ ç­¾æ—¶ä¸å†åšæ‘˜è¦ç®—æ³•")]),t._v(" "),a("h2",{attrs:{id:"è¿åˆƒè€Œè§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿åˆƒè€Œè§£"}},[t._v("#")]),t._v(" è¿åˆƒè€Œè§£")]),t._v(" "),a("p",[t._v("è™½ç„¶openssl_sign()å¿…é¡»åšæ‘˜è¦ï¼Œä½†æ˜¯æ¢ä¸ªè§’åº¦æƒ³åŠ ç­¾å®é™…ä¸Šå°±æ˜¯é€šè¿‡ç§é’¥åŠ å¯†ï¼Œæ‰€ä»¥ä½¿ç”¨PHPçš„openssl_private_encrypt()æ–¹æ³•å°±å¯ä»¥å’¯ï¼Œäºæ˜¯å°±å¾—åˆ°äº†ä¸‹é¢çš„å®ç°æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$privateKey")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDpvXOAIa8Vma84CMQQMGxbAOt+CGh4GSL2xDyEW/Dh81EmPW1/fvNqG/QNPrxhKV3NRcO8xVv8Boq+lYoEONFP4bNVnvbbM+odQlFc8e+zgJM55nWgcPcOCsNrDhDI/SZrvtxLnulJGMH+xNHSz5/SHpESSWxlGKsBp87V6pqK87rKCoCK37+VDEisXDWqRl6M8chB9zaDWuiG7uAkpREn9NU+z3Y3/gzVCLd/gP3ytbkP00tjhG979U/XQaoQAJJ6kfyY3Qc4bLMh37JYiclzgur7752ENodV5mWZuUYrpNRy9lhzlOow5J2b+bIlbhQO3TJk3wCQHinxiykEVEcRAgMBAAECggEATSpiazazmqn2EsWyFLYnz5NqK12TP7LsvBLk971ytOWjMMCu2ZyLt8gqtgS0JE+HzDDwAe4WBAoU2/56ZhJr57dXgTjNvmhRLf+q5MhqnhQghsjypFkm9tfO1BT8rZ4FhSSpjb2UvrERuo43xyUMWk4FDsh2pJmUOyOvQSgGhUB4LqazpTS/5M9pduNZwHPql1yRSYd/3qfucguFNJdoCxbtLIxwDK0KSJlnKp7FbCO3WFaSV7yqrPb6M36Tkf/Sqsry9NUt4Lv85MLPH89nMhBA1BylAM2okHRlZSloHXDL6qJA3vDy7coCnT2p8MuFAHjSyxlUY4jeQRIBGVqC0QKBgQD320sW07O4giRY1i334Y31uVCLQz9KCTkreSPjc2kT4sIruOmQqSPxTCBdnx2To9A6dO1LBrH6bVmnNRVswlC69pphq5zVj7bk//HDUBwPCRdXGDUDgUVrx1cBFXAn/j+1ZuyyIYZAeipIwpb0YPFXOyXnQOT9Yyv9Xy806RWrEwKBgQDxa2ybsg5K1HDIt1AS3AK6AO7ljezeKIot9NPYrIqkT3r6ITYQbKr7DEuaDcDje2tMY4x4sRQe5lv24rg/kYQOGgbfITdDnwh4CHhe+zGuF8qIJdRVy0CCPBo7jyNVqPWBKnG7IYYlNXZpBR0tk2Pqi+WjB9CPBWlru3wQXoDFywKBgQDU2d1FUC7h/9lo9R3q5ye7YxaZUfnTAdK308OPO/h8HFs1ownpsmdsfDy7Sb7joGVdHjb+HFTRxACfCIZKrSEZPlfcEr2P5Whihq4/VdeSzfLeV6qHRQeyBDFie9+iaMSbazVP0FxzmLYhYAK1AV+g0um9C8zbEcSgRZLLtHNoQwKBgQDDoJsHp0cxl+g0nWbDgYisFOmBFnqkoxEloEiyQU6vSsCKQ7M9p/D9Mb9pfE+bhn0yD1Da1BNL3rsS2jEXQeFSVADRemb/4rTIH4T64m4ldp3lqVHgm60QW4eeT6UAWsNmAXDbhJThPetPupckQVUr0GUqsMBtxKLia7Biy1Fp9QKBgQCIlwoViSLY6VfkNZIgA+HoDcQfCdBSqWbqkRorKWjYHHWqNocMHUDsqtEgRx9QZUhd9lfVTPCsC3ff7k0IOhFr+G7czixUxJxrGXPVY8dMug4geU8h8CpAGyRjGpkAgWgckEc3uegSuAjm7H66TUWU1gTvAd4poI5gN+5FKi27eA=="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chunk_split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$privateKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"-----BEGIN PRIVATE KEY-----\\n"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"-----END PRIVATE KEY-----\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openssl_get_privatekey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$priPem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sha256æ‘˜è¦")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dataWithSha256")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"sha256"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šè¿‡ASCIIç å°†æ‘˜è¦å¾—åˆ°çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ­£å¸¸çš„ä½†ä¸å¯è¯»å­—ç¬¦ä¸²ï¼ˆç›¸å½“äºJavaçš„å­—èŠ‚æ•°ç»„ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("strlen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dataWithSha256")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hexdec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dataWithSha256")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dataWithSha256")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$i")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var_dump")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dataWithSha256")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨ç§é’¥åŠ ç­¾ï¼Œåœ¨åŠ ç­¾æ—¶ä¸å†åšæ‘˜è¦ç®—æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openssl_private_encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openssl_free_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//base64ç¼–ç ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("base64_encode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var_dump")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),a("p",[t._v("å‘ç°PHPå¾—åˆ°çš„ç­¾åä¸Javaä¸€è‡´ï¼Œå¤§åŠŸå‘Šæˆï¼å»æ‰“æœºæ„è„¸å–½âœŒ")]),t._v(" "),a("h2",{attrs:{id:"åè®°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åè®°"}},[t._v("#")]),t._v(" åè®°")]),t._v(" "),a("ol",[a("li",[t._v("PHPæœç„¶ä¸æ„§æ’åå¤©ä¸‹ç¬¬ä¸€çš„è¯­è¨€ğŸ˜ï¼Œæ—¢ç®€å•åˆå®ç”¨ï¼›")]),t._v(" "),a("li",[t._v("ç¨‹åºçŒ¿çš„å¿«ä¹æºæ³‰å°±æ˜¯è§£å†³åˆ«äººè§£å†³ä¸äº†çš„é—®é¢˜ï¼›")]),t._v(" "),a("li",[t._v("è¯­è¨€æ°¸è¿œä¸æ˜¯å®ç°åŠŸèƒ½çš„å£å’ã€‚")]),t._v(" "),a("li",[t._v("æœ¬æ–‡ç€é‡è®°å½•äº†å½“æ—¶çš„è§£å†³é—®é¢˜çš„å¿ƒè·¯å†ç¨‹ï¼Œå¸Œæœ›ç»™å¤§å®¶å¸¦æ¥æ”¶è·ã€‚")])])])}),[],!1,null,null,null);s.default=e.exports}}]);